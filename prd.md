# Readwise Reader Electron 桌面版一期功能对齐详案（RSS/Local-First/键盘体验极致）

---

### **执行摘要**

本项目旨在开发并交付一款以Electron+React+TypeScript+SQLite为核心的本地优先（Local-First）桌面阅读器，完全对齐Readwise Reader的高信噪比信息管理与键盘优先交互，但**第一期仅支持RSS单一内容源**，并**完全移除AI相关功能**。产品专注桌面端极致阅读体验，实现高效内容收集、分流、深度阅读、知识沉淀、全离线可用，并预留后续多端和功能扩展能力。

---

## 目录

1. 

2. 

3. 

4. 

5. 

6. 

7. 

8. 

9. 

10. 

11. 

12. 

---

## 1\. 项目目标与用户故事

### **Business/Delivery Goals**

* 交付Electron桌面应用，对标Readwise Reader的关键功能

* 第一阶段仅支持RSS订阅，聚焦单一内容源极致体验

* 彻底本地优先（SQLite），实现离线可用与数据安全

* 极致键盘操作（无AI，无移动端，无手势交互）

### **User Stories**

* *“作为RSS重度用户，我希望通过桌面应用和快捷键批量筛选和收藏高价值内容，保持收件箱清零。”*

* *“作为深度阅读者，我期望能全键盘沉浸阅读、批量高亮、添加笔记和标签，无鼠标完成全部知识整理。”*

* *“作为桌面办公用户，我希望内容与笔记完全本地可用，断网也能无压力操作和检索。”*

---

## 2\. 技术栈与系统架构总览

---

## 3\. Feed-Library二元架构与生命周期管理

### **核心架构**

* **Feed区**：所有新抓取的RSS条目均落入Feed，默认只保存7日内容，未处理自动归档淡出。

* **Library区**：任何被用户明确“搬运”到Library的内容，视为高信号，进入深度整理与检索流程。

### **分区与流转状态**

* 状态变更全部支持撤销（Z）

---

## 4\. Electron架构设计详解

### **核心结构**

* **主进程（Main Process）**

  * 管理窗口生命周期、全局菜单、与系统托盘集成

  * 响应应用级快捷键（如全局聚焦、全局新建等）

  * 处理与后端的同步、文件导入导出

* **渲染进程（Renderer Process）**

  * 视图渲染、实时交互、与本地SQLite通信

  * 捕获大部分阅读场景内快捷键和UI事件

* **主/渲染进程通信**

  * 使用IPC实现，区分高频UI状态变更（如高亮、标签）与低频系统级操作（如大规模数据导入、备份）

### **应用菜单与系统集成**

* 专属“阅读”菜单，映射全部快捷键操作

* 系统托盘：快速入口、同步状态提示、RSS刷新一键入口

* 支持“文件拖拽导入OPML/RSS”与批量导入

---

## 5\. 本地数据库与Local-First同步

### **架构原则**

* **本地SQLite为唯一数据源**，所有操作优先在本地即刻生效

* **全文检索FTS5**，本地数据库完成全部查询、统计、视图生成

* **断网无损**：即便完全断网，用户可增删改查内容、笔记与标签

### **同步机制**

* “只增量上传同步”，前端定期/手动推送本地变更到云端

* **冲突解决**：采用CRDT（冲突自由复制数据类型）策略，自动合并不同终端的笔记与高亮更改

* 可手动导出/导入数据库本体，实现用户侧的数据迁移或备份

---

## 6\. 内容源接入与RSS解析器实现

### **核心特性**

* **RSS/OPML批量导入**：支持标准OPML文件一键迁移多源订阅；单RSS URL逐条导入

* **定时拉取与差量更新**：每15分钟自动背后拉取各RSS，缓存Etag/Last-Modified，避免重复抓取

* **高可用解析**：Node级RSS解析+本地快速冗余备份，关键字段丢失时降级为原文网页模式手动提取

* **解析失败手动修正**：用户可通过UI反馈解析出错，手动编辑文章元数据

* **Feed条目存储标准化**：ID/时间戳/原始URL/标题/作者/摘要/正文全文索引

---

## 7\. 键盘优先阅读体验深度设计

### **总体原则**

* 任何非导航性操作均有专属快捷键，避免鼠标依赖

* 阅读全流程始终有焦点（Focus），段落级操作、内容级操作一体化

* 键盘可驱动的命令面板，降低学习门槛，提升批量效率

### **核心功能**

**A. 焦点系统与Vim风格导航**

* 上下箭头或J/K：在文档/段落间快速跳转

* 聚焦段落左侧浮出蓝色“焦点条”，清晰视觉定位

* /切换Feed区/Library区/搜索栏，完全免鼠

* Home/End/PageUp/PageDown实现极速滚动

**B. 五大主操作键**

* **E**：归档当前内容或段落（完成/已读）

* **D**：删除（丢弃或移入废纸篓）

* **L**：推进稍后阅读队列

* **S**：加入Shortlist聚焦分组

* **Z**：全局撤销（支持多步、批量操作）

**C. 高亮与注释**

* **H**：对聚焦段落一键高亮

* ：去除现有高亮

* ：对高亮添加注释

* 鼠标辅助不作为主流程，所有高亮、批注支持键盘发起与提交

**D. 命令面板/快捷键发现**

* <Ctrl/Cmd+K>呼出全局命令面板，收录任何可能的操作

* 支持模糊拼写、自然语言指令联想，自动提示对应快捷键

* 用户可自定义/映射个性化快捷键

**E. 批量与批处理**

* <Shift-点击>或<Shift-方向>：批量选中多条Feed/多段内容

* <Ctrl-E/Ctrl-D>：对批量内容执行归档/删除/等批处理

**F. 交互细节**

* 每次操作后根据配置自动推进焦点到下一项，避免操作断点

* 所有动作支持状态浮窗提示（Toast），可随时撤销

* 导航树与内容列表天然支持全键盘布局与“打开/收起”

---

## 8\. 数据组织与检索

* **标签管理**：通过命令面板高效添加/删除/嵌套标签，标签树层级直观显示

* **结构化查询**：in:location + tag:xxx + type:rss等联合过滤

* **全文搜索**：本地FTS精准匹配，智能高亮跳转

* **动态视图**：按自定义条件快速出库/回库，支持标签联动与快速切换

---

## 9\. 开发路线图与里程碑

### **Sprint 1 (3周): Feed-Library核心 + RSS接入 + 本地存储**

* 完成产品架构与ERD设计

* 实现Feed/Library页面、生命周期主流程

* RSS/OPML导入、增量抓取、基本解析与数据标准化

* 初步本地SQLite CRUD与全文检索

### **Sprint 2 (4周): 键盘交互系统 + 高亮注释 + 解析引擎**

* 键盘快捷键系统、命令面板、Vim导航模式全实现

* 段落聚焦、高亮、批注与标签

* 内容解析回退、元数据修正机制

### **Sprint 3 (3-4周): 搜索查询 + 同步引擎 + 测试优化**

* 标签/查询/过滤/视图系统

* 本地-云端同步引擎（含CRDT冲突解决）

* 完整测试、性能与稳定性优化

---

## 10\. 质量保证与测试规划

* 单元/集成测试：数据库CRUD、RSS边界、命令面板/快捷键逻辑

* e2e自动化：快捷键全流程测试、解析容错回退覆盖所有主流站点

* 性能基准：首次载入<2s、批量Feed处理<200ms、同步/查询响应<100ms

* 异常场景：数据库损坏恢复、同步冲突自检、离线到在线的平滑过渡

---

## 11\. 用户体验核心场景

* 初次安装引导OPML订阅与快捷键练习

* Feed流一键归档、大批量快速处理

* 全流程无鼠标、秒速跳转与批量批注

* 解析失败的手动修正与原文回退

* 高亮、笔记、标签的结构化输出，永久本地可查

* 离线与多设备无缝数据互通（长假/地铁等弱网场景）

---

## 12\. 关键技术挑战与解决方案

---

**结语**  

本实施方案以Electron桌面端为基础，提炼Readwise Reader最本质的设计理念，通过RSS内容的全流程架构、极致的键盘交互和坚实的Local-First同步，为专业用户和信息极客打造信息分流、整理、检索的极致体验。第二期可顺利拓展多源内容和AI等高级功能。